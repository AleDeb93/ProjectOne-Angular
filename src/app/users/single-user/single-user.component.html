<h2>Pagina dettaglio utente</h2>
<p>La scheda utente contiene tutte le informazioni sul record selezionato</p>
<p>
  &Egrave; disponibile la lista di tutti i post dell'utente e dei commenti
  ricevuti
</p>
<hr />

<!-- Loader -->
<app-loading *ngIf="loading"></app-loading>

<div *ngIf="!loading" class="container text-center">
  <div class="row">
    <!-- Scheda utente -->
    <div class="col-sm-4">
      <mat-card>
        <mat-card-header>
          <mat-card-title-group>
            <mat-card-title>{{ user.name }}</mat-card-title>
            <mat-card-subtitle>Status: {{ user.status }}</mat-card-subtitle>
            <img src="../../../assets/img/profile.webp" mat-card-avatar />
          </mat-card-title-group>
        </mat-card-header>
        <mat-card-content>
          <mat-list>
            <mat-list-item><span>ID:</span> {{ user.id }}</mat-list-item>
            <mat-list-item><span>Email:</span> {{ user.email }}</mat-list-item>
            <mat-list-item
              ><span>Genere:</span> {{ user.gender }}</mat-list-item
            >
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Post e Commenti -->
    <div class="col-sm-8">
      <div class="posts" *ngFor="let post of posts">
        <mat-card>
          <mat-card-header>
            <mat-card-subtitle>{{ post.title }}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p>{{ post.body }}</p>
            <mat-card-subtitle>Commenti:</mat-card-subtitle>
            <br>
            <p *ngIf="getPostComments(post.id).length === 0">Non ci sono commenti da mostrare</p>
            <p *ngFor="let comment of getPostComments(post.id)"><span>{{comment.body}}</span></p>
          </mat-card-content>
          <!-- eventuale sezione mat car action per commento -->
        </mat-card>
        <br />
      </div>
      <h2 *ngIf="posts.length === 0">Non ci sono post da mostrare</h2>
    </div>
  </div>
</div>
